!function t(e,a,i){function n(r,o){if(!a[r]){if(!e[r]){var s="function"==typeof require&&require;if(!o&&s)return s(r,!0);if(l)return l(r,!0);var d=new Error("Cannot find module '"+r+"'");throw d.code="MODULE_NOT_FOUND",d}var p=a[r]={exports:{}};e[r][0].call(p.exports,function(t){var a=e[r][1][t];return n(a||t)},p,p.exports,t,e,a,i)}return a[r].exports}for(var l="function"==typeof require&&require,r=0;r<i.length;r++)n(i[r]);return n}({1:[function(t,e,a){"use strict";function i(){layui.use(["table"],function(){var t=layui.table,e=layui.jquery;t.render({elem:"#compnayList",url:"/manage/listcompany",id:"compnayList",cols:[[{field:"_id",width:80,title:"",sort:!1,templet:function(t){return t.LAY_INDEX}},{field:"company",width:250,title:"公司"},{field:"alias",width:150,title:"別名",sort:!1},{field:"addr",title:"地址",minWidth:250},{field:"city",width:80,title:"城市",sort:!1},{field:"district",width:90,title:"区域"},{field:"bdStatus",width:92,title:"审核状态",templet:function(t){return t.bdStatus&&99==t.bdStatus?'<span class="layui-badge-rim" style="padding: 1px 5px 20px;">手动审核</span>':t.bdStatus&&3==t.bdStatus?'<span class="layui-badge-rim" style="padding: 1px 5px 20px;">地图识别</span>':t.bdStatus&&2==t.bdStatus?'<span class="layui-badge-rim" style="padding: 1px 5px 20px;">库识别</span>':t.bdStatus&&1==t.bdStatus?'<span class="layui-badge-rim" style="padding: 1px 5px 20px;">自动识别</span>':(t.bdStatus,'<span class="layui-badge-rim" style="padding: 1px 5px 20px;">未识别</span>')}},{fixed:"right",width:120,align:"center",toolbar:"#barCompany"}]],page:!0}),t.on("tool(company)",function(t){var a=t.data,i=t.event;if("detail"===i)layer.msg("查看暂不支持");else if("del"===i)layer.confirm("删除数据："+(a.alias||a.company)+"？",function(t){var i=layer.load(2);e.ajax({url:"/manage/deleteCompanyById",type:"post",data:{_id:a._id}}).done(function(t){if(layer.close(i),!!t&!!t.n&&t.n>0){layer.msg("删除成功！");try{layui.table.reload("compnayList")}catch(t){}}else layer.msg("删除失败，原因：未匹配的记录");e("#commitData").removeAttr("disabled")}).fail(function(t){layer.close(i),console.error(t),layer.msg("删除失败"),e("#commitData").removeAttr("disabled")})});else if("edit"===i)layer.msg("编辑操作");else if("position"===i){var n=layer.open({type:2,title:a.company+"-位置",maxmin:!1,offset:"100px",area:[e(window).width()+"px",e(window).height()+"px"],content:"/manage/pagecompanyposition?_id="+a._id});layer.full(n)}})})}$(function(){i(),$("#searchBtn").on("click",function(){var t=$("select[name=positionStatus]").val();layui.table.reload("compnayList",{where:{positionConfirm:t}})})})},{}]},{},[1]);