!function a(i,l,u){function c(t,e){if(!l[t]){if(!i[t]){var r="function"==typeof require&&require;if(!e&&r)return r(t,!0);if(s)return s(t,!0);var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}var o=l[t]={exports:{}};i[t][0].call(o.exports,function(e){return c(i[t][1][e]||e)},o,o.exports,a,i,l,u)}return l[t].exports}for(var s="function"==typeof require&&require,e=0;e<u.length;e++)c(u[e]);return c}({1:[function(e,t,r){"use strict";function h(r,e){return e.sort(function(e,t){return r[e.label]-r[t.label]})}function y(e){var n=0,o={},t={};return e.forEach(function(e,t,r){n+=e.count}),console.log("--",e),e.map(function(e,t,r){console.log(e),e.count=parseFloat((parseFloat(e.count)/n).toFixed(2)),e.a="1",o[e.label]=e.count}),t.data=e,t.pieMap=o,console.log(t),t}$(function(){$.getJSON("/api/getNewAverageSalary",function(e){var t,a;t=e.arr,(a=new F2.Chart({el:"salaryChart"})).source(t,{key:{formatter:function(e){return e+"月"},range:[0,1]},value:{tickCount:4}}),a.axis("value",{label:function(e,t,r){var n={text:(e/1e3).toFixed(1)+"K"};return n}}),a.tooltip({custom:!0,onChange:function(e){var t=a.get("legendController").legends.top[0],r=e.items,n=t.items,o={};n.map(function(e){o[e.name]=Object.assign({},e)}),r.map(function(e){var t=e.name,r=e.value;o[t]&&(o[t].value=r+"元")}),t.setItems(Object.values(o))},onHide:function(){var e=a.get("legendController").legends.top[0];e.setItems(a.getLegendItems().country)}}),a.line().position("key*value").color("type",function(e){}),a.point().position("key*value").style({stroke:"#fff",lineWidth:1}),a.area().position("key*value"),a.render()});var f={"<5K":1,"5-8K":2,"8-10K":3,"10-15K":4,"15-20K":5,">20K":6,"面议":7},p={"3年以下":1,"3-5年":2,"5-10年":3,"不限":4},g={"大专":1,"本科":2,"硕士":3,"不限":0},v={"工业园区":1,"姑苏区":2,"高新区":3,"吴中区":4,"相城区":5,"吴江区":6,"苏州周边":7};$.getJSON("/api/getChartsSalaryInfo",function(e){var t,r,n,o,a,i,l,u,c,s,d;t=h(v,e.districtRange),(r=new F2.Chart({id:"districtChart"})).source(t),r.legend(!1),r.interval().position("label*count").color("label"),r.render(),n=function(e){var t=0,r=[],n={},o={},a=!0,i=!1,l=void 0;try{for(var u,c=e[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var s=u.value;s.label&&(t+=s.count)}}catch(e){i=!0,l=e}finally{try{!a&&c.return&&c.return()}finally{if(i)throw l}}console.log("--",e);var d=!0,f=!1,p=void 0;try{for(var g,v=e[Symbol.iterator]();!(d=(g=v.next()).done);d=!0){var h=g.value;if(h.label){var y={};y.name=h.label,y.percent=Math.round(100*h.count/t)/100,y.a="1",n[h.label]=h.average,r.push(y)}}}catch(e){f=!0,p=e}finally{try{!d&&v.return&&v.return()}finally{if(f)throw p}}return o.data=r,o.pieMap=n,console.log(o),o}(h(p,e.yearRange)),(o=new F2.Chart({id:"yearChart"})).coord("polar",{transposed:!0,innerRadius:.618}),o.source(n.data),o.axis(!1),o.legend({position:"right",itemFormatter:function(e){return e+" 平均薪酬: "+n.pieMap[e]}}),o.interval().position("a*percent").color("name").adjust("stack").style({lineWidth:1,stroke:"#fff",lineJoin:"round",lineCap:"round"}),o.render(),a=y(h(f,e.salaryRange)),(i=new F2.Chart({id:"radialChart"})).coord("polar",{transposed:!0,endAngle:Math.PI}),i.source(a.data,{count:{formatter:function(e){return 100*e+"%"}}}),i.axis("label",{grid:null,line:null}),i.axis("count",!1),i.legend({position:"right",itemFormatter:function(e){return e+"  "+parseInt(100*a.pieMap[e])+" %"}}),i.interval().position("label*count").color("label"),i.render(),l=h(g,e.eduRange),(u=new F2.Chart({id:"levelChart"})).source(l),u.legend(!1),u.interval().position("label*count").color("label"),u.render(),c=y(h(f,e.salaryRange)),s=new F2.Chart({id:"pieChart"}),d=c.data,s.source(d,{count:{formatter:function(e){return 100*e+"%"}}}),s.legend({position:"right",itemFormatter:function(e){return e+"  "+parseInt(100*c.pieMap[e])+" %"}}),s.tooltip(!1),s.coord("polar",{transposed:!0,radius:.8}),s.axis(!1),s.interval().position("a*count").color("label").adjust("stack").style({lineWidth:1,stroke:"#fff",lineJoin:"round",lineCap:"round"}).animate({appear:{duration:1200,easing:"bounceOut"}}),s.render()})})},{}]},{},[1]);