var json = {"success":true,"requestId":null,"resubmitToken":null,"msg":null,"content":{"pageNo":6,"pageSize":15,"hrInfoMap":{"489158":{"userId":334492,"userLevel":"G1","positionName":"HR","phone":null,"receiveEmail":null,"realName":"wosai","portrait":"image2/M00/0F/3E/CgpzWlYno3KAAsX-AAFzr7lb4TY353.png","canTalk":true},"990247":{"userId":2186167,"userLevel":"G1","positionName":"人事经理","phone":null,"receiveEmail":null,"realName":"kyang","portrait":"i/image/M00/4E/FE/Cgp3O1etcTiAPSZsAAXA2-o3OZA942.jpg","canTalk":true},"1288533":{"userId":3269533,"userLevel":"G1","positionName":"同程旅游","phone":null,"receiveEmail":null,"realName":"lmz15804","portrait":null,"canTalk":true},"1608336":{"userId":4538875,"userLevel":"G1","positionName":"行政","phone":null,"receiveEmail":null,"realName":"shc","portrait":"i/image/M00/06/9E/CgpFT1jeI2uADp92AAATv4UjoqE808.png","canTalk":true},"1846599":{"userId":5116886,"userLevel":"G1","positionName":null,"phone":null,"receiveEmail":null,"realName":"gaoll","portrait":null,"canTalk":true},"2360614":{"userId":179399,"userLevel":"G1","positionName":"人力资源总监","phone":null,"receiveEmail":null,"realName":"吴小姐","portrait":null,"canTalk":true},"2667203":{"userId":5116886,"userLevel":"G1","positionName":null,"phone":null,"receiveEmail":null,"realName":"gaoll","portrait":null,"canTalk":true},"2758766":{"userId":2774433,"userLevel":"G1","positionName":null,"phone":null,"receiveEmail":null,"realName":"lyy","portrait":null,"canTalk":true},"2877283":{"userId":5026438,"userLevel":"G1","positionName":"HR","phone":null,"receiveEmail":null,"realName":"朱小姐","portrait":null,"canTalk":true},"2937007":{"userId":4342001,"userLevel":"G1","positionName":"HR主管","phone":null,"receiveEmail":null,"realName":"hr","portrait":null,"canTalk":true},"3040422":{"userId":5769321,"userLevel":"G1","positionName":"","phone":null,"receiveEmail":null,"realName":"CEO","portrait":null,"canTalk":true},"3046480":{"userId":7058535,"userLevel":"G1","positionName":"人事","phone":null,"receiveEmail":null,"realName":"Alice","portrait":null,"canTalk":true},"3060582":{"userId":1544991,"userLevel":"G1","positionName":null,"phone":null,"receiveEmail":null,"realName":"gwb","portrait":null,"canTalk":true}},"positionResult":{"locationInfo":{"queryByGisCode":false,"businessZone":null,"locationCode":null,"city":"苏州","district":null},"queryAnalysisInfo":{"industryName":null,"usefulCompany":false,"positionName":"前端","companyName":null},"strategyProperty":{"name":"dm-csearch-useUserInterest","id":1},"hotLabels":null,"totalCount":88,"resultSize":13,"result":[{"companyId":94,"imState":"today","businessZones":null,"lastLogin":1495155911000,"publisherId":179399,"explain":null,"plus":null,"pcShow":0,"appShow":0,"deliver":0,"gradeDescription":null,"promotionScoreExplain":null,"firstType":"技术","secondType":"前端开发","companyFullName":"苏州思必驰信息科技有限公司","adWord":0,"formatCreateTime":"3天前发布","positionId":2360614,"industryField":"企业服务","education":"本科","workYear":"应届毕业生","city":"苏州","positionAdvantage":"思必驰人工智能大家庭等你加入","createTime":"2017-05-16 17:38:43","salary":"8k-15k","positionName":"Web前端研发工程师(2017年校招)","companySize":"150-500人","companyShortName":"思必驰科技","companyLogo":"image1/M00/2E/DE/CgYXBlV_0c2AL_QDAAAINNDCg7o532.png","financeStage":"成熟型(C轮)","jobNature":"全职","approve":1,"district":null,"companyLabelList":["年底双薪","五险一金","弹性工作","年度旅游"],"positionLables":[],"industryLables":[],"score":0},{"companyId":20669,"imState":"today","businessZones":null,"lastLogin":1495161732000,"publisherId":334492,"explain":null,"plus":null,"pcShow":0,"appShow":0,"deliver":0,"gradeDescription":null,"promotionScoreExplain":null,"firstType":"技术","secondType":"前端开发/移动开发","companyFullName":"上海喔噻互联网科技有限公司","adWord":0,"formatCreateTime":"3天前发布","positionId":489158,"industryField":"移动互联网","education":"本科","workYear":"1-3年","city":"苏州","positionAdvantage":"股票期权，包吃，健身房，下午茶，牛逼团队","createTime":"2017-05-16 10:14:12","salary":"10k-20k","positionName":"前端开发工程师","companySize":"500-2000人","companyShortName":"喔噻科技","companyLogo":"i/image/M00/B8/05/CgqKkVjBCc2AWNhhAABAg_mr06U189.png","financeStage":"成长型(B轮)","jobNature":"全职","approve":1,"district":"工业园区","companyLabelList":["工程师文化","年轻朝气","乐视60寸","德州"],"positionLables":["web"],"industryLables":[],"score":0},{"companyId":85329,"imState":"today","businessZones":["湖东"],"lastLogin":1495075181000,"publisherId":2186167,"explain":null,"plus":null,"pcShow":0,"appShow":0,"deliver":0,"gradeDescription":null,"promotionScoreExplain":null,"firstType":"技术","secondType":"前端开发/移动开发","companyFullName":"上海卓隽信息技术有限公司","adWord":0,"formatCreateTime":"2017-05-03","positionId":990247,"industryField":"企业服务,硬件","education":"不限","workYear":"1-3年","city":"苏州","positionAdvantage":"有完善的培训机制、正常上班时间、加班费","createTime":"2017-05-03 11:41:27","salary":"4k-6k","positionName":"web前端","companySize":"150-500人","companyShortName":"卓隽信息","companyLogo":"image1/M00/3C/80/CgYXBlW1r4qAFnu6AAAbfXHLcdM936.png?cc=0.4777512797154486","financeStage":"成长型(不需要融资)","jobNature":"全职","approve":0,"district":"工业园区","companyLabelList":["年底双薪","带薪年假","绩效奖金","年度旅游"],"positionLables":[],"industryLables":[],"score":0},{"companyId":99605,"imState":"disabled","businessZones":null,"lastLogin":1494204017000,"publisherId":2774433,"explain":null,"plus":null,"pcShow":0,"appShow":0,"deliver":0,"gradeDescription":null,"promotionScoreExplain":null,"firstType":"开发/测试/运维类","secondType":"前端开发/移动开发","companyFullName":"常熟买吧电子商务有限公司","adWord":0,"formatCreateTime":"2017-05-02","positionId":2758766,"industryField":"移动互联网,电子商务","education":"大专","workYear":"1-3年","city":"苏州","positionAdvantage":"良好的氛围,技术研发,专注","createTime":"2017-05-02 09:33:06","salary":"4k-8k","positionName":"web前端开发","companySize":"少于15人","companyShortName":"OK买吧","companyLogo":"image2/M00/0B/74/CgpzWlYYmmSAdXfgAAATiH9Syp8023.jpg?cc=0.662807333515957","financeStage":"初创型(未融资)","jobNature":"全职","approve":1,"district":"常熟市","companyLabelList":["节日礼物","扁平管理","领导好","帅哥多"],"positionLables":["全栈"],"industryLables":[],"score":0},{"companyId":39772,"imState":"disabled","businessZones":["独墅湖"],"lastLogin":1495161273000,"publisherId":5116886,"explain":null,"plus":null,"pcShow":0,"appShow":0,"deliver":0,"gradeDescription":null,"promotionScoreExplain":null,"firstType":"技术","secondType":"前端开发/移动开发","companyFullName":"苏州工业园区凌志软件股份有限公司","adWord":0,"formatCreateTime":"2017-04-27","positionId":1846599,"industryField":"金融","education":"大专","workYear":"1-3年","city":"苏州","positionAdvantage":"上市公司 股权激励","createTime":"2017-04-27 14:00:49","salary":"10k-20k","positionName":"前端开发工程师","companySize":"2000人以上","companyShortName":"凌志软件","companyLogo":"i/image/M00/36/34/Cgp3O1ddHG-ATRm-AACIP-Be6mM578.jpg","financeStage":"上市公司","jobNature":"全职","approve":1,"district":"工业园区","companyLabelList":["技能培训","年底双薪","免费班车","带薪年假"],"positionLables":[],"industryLables":[],"score":0},{"companyId":39772,"imState":"disabled","businessZones":["独墅湖"],"lastLogin":1495161273000,"publisherId":5116886,"explain":null,"plus":null,"pcShow":0,"appShow":0,"deliver":0,"gradeDescription":null,"promotionScoreExplain":null,"firstType":"开发/测试/运维类","secondType":"前端开发/移动开发","companyFullName":"苏州工业园区凌志软件股份有限公司","adWord":0,"formatCreateTime":"2017-04-27","positionId":2667203,"industryField":"金融","education":"本科","workYear":"1-3年","city":"苏州","positionAdvantage":"五险一金","createTime":"2017-04-27 14:00:44","salary":"10k-15k","positionName":"前端工程师","companySize":"2000人以上","companyShortName":"凌志软件","companyLogo":"i/image/M00/36/34/Cgp3O1ddHG-ATRm-AACIP-Be6mM578.jpg","financeStage":"上市公司","jobNature":"全职","approve":1,"district":"工业园区","companyLabelList":["技能培训","年底双薪","免费班车","带薪年假"],"positionLables":["金融","web前端"],"industryLables":["金融","web前端"],"score":0},{"companyId":8183,"imState":"today","businessZones":["南门"],"lastLogin":1495077107000,"publisherId":1544991,"explain":null,"plus":null,"pcShow":0,"appShow":0,"deliver":0,"gradeDescription":null,"promotionScoreExplain":null,"firstType":"开发/测试/运维类","secondType":"前端开发/移动开发","companyFullName":"苏州世纪飞越网络信息有限公司","adWord":0,"formatCreateTime":"2017-04-26","positionId":3060582,"industryField":"移动互联网","education":"不限","workYear":"1-3年","city":"苏州","positionAdvantage":"节假日津贴,激励性薪酬,五险一金","createTime":"2017-04-26 15:42:16","salary":"6k-10k","positionName":"web前端工程师","companySize":"50-150人","companyShortName":"无线苏州","companyLogo":"image1/M00/00/11/Cgo8PFTUWDGAGjh2AABjR2YG0Y0603.jpg","financeStage":"成长型(不需要融资)","jobNature":"全职","approve":0,"district":"姑苏区","companyLabelList":["年终分红","绩效奖金","五险一金","通讯津贴"],"positionLables":["js","node.js","JavaScript"],"industryLables":[],"score":0},{"companyId":3564,"imState":"today","businessZones":["景德路沿线","南浩街","石路"],"lastLogin":1495095942000,"publisherId":3269533,"explain":null,"plus":null,"pcShow":0,"appShow":0,"deliver":0,"gradeDescription":null,"promotionScoreExplain":null,"firstType":"技术","secondType":"前端开发/移动开发","companyFullName":"同程网络科技股份有限公司","adWord":0,"formatCreateTime":"2017-04-26","positionId":1288533,"industryField":"旅游,电子商务","education":"不限","workYear":"不限","city":"苏州","positionAdvantage":"技术大咖","createTime":"2017-04-26 09:26:05","salary":"10k-20k","positionName":"web前端","companySize":"2000人以上","companyShortName":"同程旅游","companyLogo":"i/image/M00/83/16/Cgp3O1hY3tSAPG0LAAATZnnxuEc269.png","financeStage":"成熟型(D轮及以上)","jobNature":"全职","approve":1,"district":"姑苏区","companyLabelList":["绩效奖金","股票期权","年底双薪","五险一金"],"positionLables":[],"industryLables":[],"score":0},{"companyId":51527,"imState":"disabled","businessZones":null,"lastLogin":1494829620000,"publisherId":4342001,"explain":null,"plus":null,"pcShow":0,"appShow":0,"deliver":0,"gradeDescription":null,"promotionScoreExplain":null,"firstType":"开发/测试/运维类","secondType":"前端开发/移动开发","companyFullName":"苏州朗动网络科技有限公司","adWord":0,"formatCreateTime":"2017-04-24","positionId":2937007,"industryField":"移动互联网,企业服务","education":"本科","workYear":"3-5年","city":"苏州","positionAdvantage":"发展空间大,福利待遇优,管理扁平化,领导班子帅","createTime":"2017-04-24 09:31:01","salary":"10k-20k","positionName":"前端工程师","companySize":"50-150人","companyShortName":"朗动网络科技","companyLogo":"i/image/M00/3B/1F/CgqKkVdrPeyAOLNmAAA3jls4Zfk420.png","financeStage":"成长型(A轮)","jobNature":"全职","approve":1,"district":"吴中区","companyLabelList":[],"positionLables":["html5","web","HTML","定制","礼品"],"industryLables":[],"score":0},{"companyId":196627,"imState":"sevenDays","businessZones":null,"lastLogin":1494555565000,"publisherId":7058535,"explain":null,"plus":null,"pcShow":0,"appShow":0,"deliver":0,"gradeDescription":null,"promotionScoreExplain":null,"firstType":"开发/测试/运维类","secondType":"前端开发/移动开发","companyFullName":"苏州天优汇网络科技有限公司","adWord":0,"formatCreateTime":"2017-04-22","positionId":3046480,"industryField":null,"education":"本科","workYear":"1-3年","city":"苏州","positionAdvantage":"PHP+前端开发双休","createTime":"2017-04-22 14:38:04","salary":"5K-8K","positionName":"PHP+前端","companySize":null,"companyShortName":"寓租帮","companyLogo":"images/logo_default.png","financeStage":null,"jobNature":"全职","approve":0,"district":"工业园区","companyLabelList":[],"positionLables":["web前端"],"industryLables":[],"score":0},{"companyId":141196,"imState":"overSevenDays","businessZones":null,"lastLogin":1493713934000,"publisherId":5769321,"explain":null,"plus":null,"pcShow":0,"appShow":0,"deliver":0,"gradeDescription":null,"promotionScoreExplain":null,"firstType":"开发/测试/运维类","secondType":"前端开发/移动开发","companyFullName":"苏州全真网络科技有限公司","adWord":0,"formatCreateTime":"2017-04-20","positionId":3040422,"industryField":"游戏,移动互联网","education":"本科","workYear":"1-3年","city":"苏州","positionAdvantage":"晋升快,福利好,待遇优","createTime":"2017-04-20 16:38:56","salary":"4k-8k","positionName":"web前端开发","companySize":"15-50人","companyShortName":"全真游戏","companyLogo":"i/image/M00/49/DF/CgqKkVeYe0yAHBYlAABBvVl4OcQ764.png","financeStage":"初创型(未融资)","jobNature":"全职","approve":1,"district":"工业园区","companyLabelList":["绩效奖金","交通补助","午餐补助","年度旅游"],"positionLables":["HTML"],"industryLables":[],"score":0},{"companyId":119682,"imState":"today","businessZones":null,"lastLogin":1495154509000,"publisherId":4538875,"explain":null,"plus":null,"pcShow":0,"appShow":0,"deliver":0,"gradeDescription":null,"promotionScoreExplain":null,"firstType":"技术","secondType":"前端开发/移动开发","companyFullName":"苏州睿途网络科技有限公司","adWord":0,"formatCreateTime":"2017-04-17","positionId":1608336,"industryField":"企业服务,电子商务","education":"本科","workYear":"3-5年","city":"苏州","positionAdvantage":"五险一金带薪年假","createTime":"2017-04-17 18:01:23","salary":"5k-10k","positionName":"web前端","companySize":"15-50人","companyShortName":"睿途网络","companyLogo":"i/image/M00/15/74/CgqKkVbruq-AR_BvAAATv4UjoqE549.png","financeStage":"初创型(未融资)","jobNature":"全职","approve":0,"district":"工业园区","companyLabelList":["年底双薪","股票期权","年终分红","专项奖金"],"positionLables":[],"industryLables":[],"score":0},{"companyId":33709,"imState":"today","businessZones":["盘门","南门","胥江"],"lastLogin":1495157867000,"publisherId":5026438,"explain":null,"plus":null,"pcShow":0,"appShow":0,"deliver":0,"gradeDescription":null,"promotionScoreExplain":null,"firstType":"开发/测试/运维类","secondType":"前端开发/移动开发","companyFullName":"苏州工业园区瑞安多媒体信息服务有限公司","adWord":0,"formatCreateTime":"2017-04-17","positionId":2877283,"industryField":"文化娱乐","education":"大专","workYear":"1-3年","city":"苏州","positionAdvantage":"五险一金,带薪年假,绩效奖金,节日福利","createTime":"2017-04-17 15:43:20","salary":"7k-14k","positionName":"web前端工程师","companySize":"50-150人","companyShortName":"瑞安多媒体","companyLogo":"i/image/M00/41/E3/Cgp3O1d9752AIDrTAAAadn00Vws862.jpg","financeStage":"初创型(未融资)","jobNature":"全职","approve":0,"district":"姑苏区","companyLabelList":["技能培训","节日礼物","年底双薪","绩效奖金"],"positionLables":[],"industryLables":[],"score":0}]}},"code":0}


import Job from "../../model/job";
export default class Parse {
	constructor() {}

	//根据返回的数据看是否自动停止解析
	maxPageSize(maxSize,json){

		if(json.success){
			var total = json.content.positionResult.totalCount;
			var resultSize = json.content.positionResult.resultSize;
			var val =  Math.ceil(total/resultSize);
			console.log(maxSize,val)
			return val>maxSize?maxSize:val;
		}
		return maxSize;
	}

	list(json){
		json.content.positionResult.result.forEach((it)=>{
			var job = new Job({
					   jobId:it.positionId,
				       job:it.positionName,
				       companyId:it.companyId,
				       company:it.companyFullName,
				       workYear:it.workYear,
				       education: it.education,
				       salary:it.salary,
				       time:it.createTime
			})
			console.log(job.job,job.company)
		})

	}
}

